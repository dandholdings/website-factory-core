{{/* Ads partial â€” safe for Cloudflare Pages */}}

{{ $provider := "none" }}
{{ $client := "" }}

{{/* Read from hugo.yaml params first, then override from data/site.yaml */}}
{{ with .Site.Params.ads }}
  {{ with .provider }}{{ $provider = . }}{{ end }}
  {{ with .adsenseClient }}{{ $client = . }}{{ end }}
{{ end }}
{{ with site.Data.site }}
  {{ with .ads }}
    {{ with .provider }}{{ $provider = . }}{{ end }}
    {{ with .adsense_client }}{{ $client = . }}{{ end }}
  {{ end }}
{{ end }}

{{ if eq $provider "adsense" }}
  {{ if $client }}
    <script async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client={{ $client }}"
      crossorigin="anonymous"></script>

    <ins class="adsbygoogle"
      style="display:block"
      data-ad-client="{{ $client }}"
      data-ad-slot="0000000000"
      data-ad-format="auto"
      data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  {{ end }}
{{ end }}
